<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>a</title>
<link rel="stylesheet" type="text/css" href="./style.css" />
<link rel="stylesheet" href="./css/btnn.css"/>
<link rel="stylesheet" href="./css/table.css"/>
<link rel="stylesheet" href="./css/reset.css"/>
<link rel="stylesheet" type="text/css" href="./style.css" />
<!--세로그래프 script-->
<script src="./css/Chart.min.js"></script>
<script src="./css/bootstrap.min.js"></script>
<script src="./css/poppers.min.js"></script>
<script src="./css/jquery.min.js"></script>
<script src="./css/bootstrap.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.0/moment.min.js"></script>
<script type="text/javascript" src="init.js"></script>

</head>
<body>
  <canvas id="forecast" width="100%" height="400"></canvas>
  <script>
  /*
  const today = moment();
  Chart.defaults.global.defaultFontColor = 'grey';
  Chart.defaults.global.defaultFontSize = 16;
  Chart.defaults.global.defaultFontFamily = "NanumBarunGothic";
  var canvas = document.getElementById('myChart');
  var data = {
      labels: [
      moment().subtract(4,"days").format("MM/DD"),
      moment().subtract(3,"days").format("MM/DD"),
      moment().subtract(2,"days").format("MM/DD"),
      moment().subtract(1,"days").format("MM/DD"),
      moment().format("MM/DD")
    ],
      type: "line",
      datasets: [
          {
              label: "접종 현황",
              data: [ 85126,89253, 31098,4991,110954],
              fill: true,
              lineTension: 0.1,
              backgroundColor: "#6EA24D",
              borderColor: "#6EA24D", // The main line color
          }
      ]
  };
  var options = {
    scales: {
      yAxes: [{
        ticks: {
          beginAtZero: true
        }
      }],
      xAxes: [{
      // x축 굵기 수정
      barPercentage: 0.6
      }]
    }
  };
  var myBarChart = Chart.Bar(canvas,{
    data:data,
    options: options
  });
  */


  Chart.defaults.global.defaultFontColor = 'grey';
  Chart.defaults.global.defaultFontSize = 16;
  Chart.defaults.global.defaultFontFamily = "NanumBarunGothic";

  const today = moment();
  var chart_labels = [
    /*
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().format("MM/DD")
  */

  '03-60',
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().subtract(4,"days").format("MM/DD"),
  moment().subtract(3,"days").format("MM/DD"),
  moment().subtract(2,"days").format("MM/DD"),
  moment().subtract(1,"days").format("MM/DD"),
  moment().format("MM/DD")
];

var chart_labels_1 = [

moment().subtract(1,"days").format("MM/DD"),
moment().format("MM/DD")
];

  var rain_dataset = ['20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7','20', '40', '60', '32', '7'];
  var rain_dataset_1 = ['100', '30'];
  var rain_dataset_2 = ['20', '60', '61', '32', '7'];
  var rain_dataset_3 = ['40', '10', '60', '32', '7'];
  var rain_dataset_4 = ['60', '90', '46', '32', '7'];
  var rain_dataset_5 = ['70', '30', '56', '32', '7'];
  var rain_dataset_6 = ['20', '50', '26', '32', '7'];
  var rain_dataset_7 = ['50', '100'];

  var ctx = document.getElementById("forecast").getContext('2d');
  var config = {
      type: 'bar',
      data: {
          labels: chart_labels_1,
          datasets: [ {
              type: 'bar',
              label: "접종 현황",
              yAxisID: "y-axis-1",
              backgroundColor: "#6EA24D",
              data: rain_dataset,
          }]
      },
      options: {

          scales: {
              yAxes: [{
                  position: "left",
                  "id": "y-axis-1",
              }],
              xAxes: [{
              // x축 굵기 수정
              barPercentage: 1,

              }]
          }
      }
  };


  var forecast_chart = new Chart(ctx, config);
  $("#0").click(function() {
      var data = forecast_chart.config.data;
      data.datasets[0].data = rain_dataset;
      data.labels = chart_labels;
      forecast_chart.update();
  });
  $("#1").click(function() {
      var data = forecast_chart.config.data;
      data.datasets[0].data = rain_dataset;
      data.labels = chart_labels;
      forecast_chart.update();
  });
  $("#2").click(function() {
      var data = forecast_chart.config.data;
      data.datasets[0].data = rain_dataset;
      data.labels = chart_labels_1;
      forecast_chart.update();
  });

  $("#3").click(function() {
      var data = forecast_chart.config.data;
      data.datasets[0].data = rain_dataset;
      data.labels = chart_labels;
      forecast_chart.update();
  });
  $("#4").click(function() {
      var data = forecast_chart.config.data;
      data.datasets[0].data = rain_dataset_3;
      data.labels = chart_labels;
      forecast_chart.update();
  });
  $("#5").click(function() {
      var data = forecast_chart.config.data;

      data.datasets[0].data = rain_dataset_4;
      data.labels = chart_labels;
      forecast_chart.update();
  });
  $("#6").click(function() {
      var data = forecast_chart.config.data;

      data.datasets[0].data = rain_dataset;
      data.labels = chart_labels;
      forecast_chart.update();
  });
  $("#7").click(function() {
      var data = forecast_chart.config.data;

      data.datasets[0].data = rain_dataset;
      data.labels = chart_labels;
      forecast_chart.update();
  });
  $("#8").click(function() {
      var data = forecast_chart.config.data;

      data.datasets[0].data = rain_dataset;
      data.label = "서울";
      data.labels = chart_labels;
      forecast_chart.update();
  });

</script>
</body>
</html>
